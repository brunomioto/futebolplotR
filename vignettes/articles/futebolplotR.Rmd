---
title: "Get Started with FutebolplotR"
description:
author: "Bruno Mioto" "Gabriela Junqueira"
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  out.width = "100%",
  dpi = 600
)
```

#> fazer uma intro

# Install the Package

The easiest way to get `FutebolplotR` is to install it from with:

```{r eval = FALSE}
if (!require("pak")) install.packages("pak")
pak::pak("brunomioto/futebolplotR")
```

#> fazer uma intro

```{r setup}
library(futebolplotR)
library(ggplot2)
library(dplyr)
library(brasileirao)
```

#> fazer uma intro


```{r}

team <- futebolplotR::valid_team_names()

season_2023 <- dplyr::filter(matches, season == 2023)
season_2023 <- brasileirao::add_variables(season_2023)

season_2023_home <- season_2023 %>%
    group_by(home) %>%
    mutate(total_home_points = sum(home_points)) %>%
    mutate(goal_concede_home = sum(as.numeric(away_score))) %>%
    mutate(goal_scored_home = sum(as.numeric(home_score))) %>%
    ungroup() %>%
    slice(1:20) %>%
    select(home, home_abbr, total_home_points, goal_concede_home, goal_scored_home) %>%
    rename(fc = home)

season_2023_away <- season_2023 %>%
    group_by(away) %>%
    mutate(total_away_points = sum(away_points)) %>%
    mutate(goal_concede_away = sum(as.numeric(home_score))) %>%
    mutate(goal_scored_away = sum(as.numeric(away_score))) %>%
    ungroup() %>%
    slice(1:20) %>%
    select(away, total_away_points, goal_concede_away, goal_scored_away) %>%
    rename(fc = away)


df_teams <- left_join(season_2023_home, season_2023_away, by = "fc")

```

#> fazer uma intro

```{r}

ggplot2::ggplot(df_teams, aes(x = total_home_points, y = total_away_points)) +
  futebolplotR::geom_futebol_badges(aes(team_abbr = home_abbr), width = 0.064, alpha = 0.8) +
  ggplot2::labs(
    x = "Points home",
    y = "Points away",
    caption = "Data: @brasileirao",
    title = "Campeonato Brasileiro 2023"
  ) +
  ggplot2::theme_minimal() +
  ggplot2::theme(
    plot.title = element_text(face = "bold"),
    plot.title.position = "plot"
  ) +
  coord_fixed()

```












